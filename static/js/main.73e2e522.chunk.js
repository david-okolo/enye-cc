(this["webpackJsonpenye-cc"]=this["webpackJsonpenye-cc"]||[]).push([[0],{169:function(e,t,a){e.exports=a(310)},174:function(e,t,a){},310:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l);a(174),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(56),i=a.n(c),s=a(71),u=a(166),p=a(37),y=a(316),m=a(70),d=a(312),g=a(313),f=a(319),h=a(134),b=a.n(h),k=a(320),v=function(e){return r.a.createElement("div",{style:{fontWeight:"bolder",color:"white",width:"100%"}},r.a.createElement(k.a,{onClick:function(){e.handleMarkerIconClick({color:"green",text:"destination",location:{lat:e.lat,lng:e.lng}})},style:{fontSize:"30px",color:e.color}}))},T=[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],x={lat:6.54,lng:3.39},E={1:"1 KM",10:"10 KM",20:"20 KM",30:"30 KM",40:"40 KM"},j=function(e){var t=e.center,a=e.zoom,n=e.markerLocations,l=e.handleMarkerIconClick;return r.a.createElement("div",{style:{flex:1,width:"100%"}},r.a.createElement(b.a,{zoom:a,bootstrapURLKeys:{key:"AIzaSyCTBRe18aNjO1y6ZF44Eyp0n2gddKtUYgc"},center:t,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){!function(e,t){var a=new t.StyledMapType(T);e.mapTypes.set("styled_map",a),e.setMapTypeId("styled_map")}(e.map,e.maps)}},n.map((function(e){var t=e.location,a=e.color,n=e.text;return r.a.createElement(v,{handleMarkerIconClick:l,key:n,lat:t.lat,lng:t.lng,color:a,text:n})}))))},C=a(168),O=a(311),w=a(318),S=a(317),I=a(315),M=a(321),P=S.a.Search,z=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{enterButton:!0,placeholder:" search by name...",prefix:r.a.createElement(M.a,null),size:"large",onChange:e.handleSearchInputChange,value:e.query,style:{marginBottom:"10px"}}),r.a.createElement(I.a,{min:0,max:50,marks:e.marks,step:5,range:!1,tipFormatter:null,onChange:e.handleSearchRadiusChange,value:e.searchRadius}))},R=a(163),D=a(314),K=a(81),L=function(e){var t=e.currentPage,a=e.handlePageChange,n=e.hospitalsData,l=e.handleMarkerIconClick,o=e.center,c=e.pageSize,i=e.pagination;return r.a.createElement(D.b,{size:"small",pagination:i&&{current:t,onChange:a,pageSize:c},dataSource:n,renderItem:function(e){return r.a.createElement(D.b.Item,{actions:[r.a.createElement(k.a,{key:"view-on-map",onClick:function(){return l({location:e.geometry.location,color:"green",text:"destination"})}})]},r.a.createElement(D.b.Item.Meta,{title:e.name,description:e.formatted_address}),r.a.createElement("div",null,(Object(K.getDistance)(e.geometry.location,o)/1e3).toFixed(1),"km"))}})},B=y.a.Text,F=function(e){var t=e.cropped,a=e.center,n=e.hospitalsData,l=e.dataIsLoading,o=e.currentPage,c=e.handlePageChange,i=e.handleMarkerIconClick,s=Object(C.a)(e,["cropped","center","hospitalsData","dataIsLoading","currentPage","handlePageChange","handleMarkerIconClick"]),u="Showing hospitals ".concat(s.query?"matching '".concat(s.query,"'"):""," within ").concat(s.searchRadius,"KM of you");return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,s),r.a.createElement(O.a,null),t&&r.a.createElement(d.a,{justify:"space-between"},r.a.createElement(g.a,null,r.a.createElement(B,{strong:!0},u)),r.a.createElement(g.a,null,r.a.createElement(R.a,{style:{fontSize:"28px",color:"#08979c"}}))),t&&r.a.createElement(w.a,{loading:l,active:!0},r.a.createElement(O.a,null),r.a.createElement(L,{pagination:!0,handleMarkerIconClick:i,center:a,handlePageChange:c,pageSize:6,hospitalsData:n,currentPage:o})))},A=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,r,l,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:10,a=o.length>1&&void 0!==o[1]?o[1]:x,n=1e3*t,e.next=5,fetch("https://david-enye-cc.ml/places/hospitals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({radius:n,latlng:[a.lat,a.lng]})});case 5:return r=e.sent,e.next=8,r.json();case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=y.a.Title,q=m.a.useBreakpoint,W=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(10),c=Object(p.a)(o,2),y=c[0],m=c[1],h=Object(n.useState)(""),b=Object(p.a)(h,2),k=b[0],v=b[1],T=Object(n.useState)(a),C=Object(p.a)(T,2),O=C[0],w=C[1],S=Object(n.useState)(!0),I=Object(p.a)(S,2),M=I[0],P=I[1],z=Object(n.useState)(x),R=Object(p.a)(z,2),D=R[0],B=R[1],W=Object(n.useState)(1),J=Object(p.a)(W,2),U=J[0],G=J[1],N=Object(n.useState)([]),Y=Object(p.a)(N,2),Z=Y[0],$=Y[1],H=Object(n.useState)(13),Q=Object(p.a)(H,2),V=Q[0],X=Q[1],ee=Object(n.useState)(!1),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=q().xl;Object(n.useEffect)((function(){D.lat!==x.lat&&D.lng!==x.lng&&A(y,D).then((function(e){var t,a=e.data.filter((function(e){return!!e.geometry&&Object(K.getDistance)(e.geometry.location,D)/1e3<y}));l(a),k&&(t=le(a,k)),w(t||a),P(!1);var n=(t||a).map((function(e){return{color:"white",text:e.id,location:e.geometry.location}}));$([].concat(Object(u.a)(n),[{color:"red",text:"you",location:D}]))}))}),[y,D,k]),Object(n.useEffect)((function(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;B({lat:a,lng:n}),$([{text:"you",color:"white",location:{lat:a,lng:n}}])}))}),[]);var le=function(e,t){return e.filter((function(e){return e.name.match(function(e){return new RegExp(e,"gi")}(t))}))},oe=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,v(n),G(1),w(le(a,n)),ne(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e,t){G(e)},ie=function(e){$([{text:"you",color:"red",location:D},e]),ne(!1)},se=re?12:24;return r.a.createElement(d.a,{style:{display:"flex",flexFlow:re?"row":"column",height:"100vh",alignItems:"stretch"}},r.a.createElement(g.a,{span:se,style:{padding:"24px 24px 0 24px",backgroundColor:"#ffffff",flex:re?"0 0 100%":"none"}},r.a.createElement(_,{level:re?2:4},"nearst"),r.a.createElement(F,{cropped:!!re,handleMarkerIconClick:ie,handleSearchInputChange:oe,handleSearchRadiusChange:function(e){P(!0),G(1),m(Array.isArray(e)?e[0]:e);var t,a="number"===typeof e?e:e[0],n=(t=a)>39?9:t>24?10:t>15?11:t>9?12:13;X(n)},handlePageChange:ce,marks:E,hospitalsData:O,searchRadius:y,query:k,dataIsLoading:M,currentPage:U,center:D})),r.a.createElement(g.a,{span:se,style:{backgroundColor:"#eeeeee",display:"flex",flex:1,overflow:"auto"}},r.a.createElement(j,{handleMarkerIconClick:ie,center:D,setCenter:B,zoom:V,markerLocations:Z})),!re&&r.a.createElement(f.a,{title:"Results",placement:"bottom",onClose:function(){ne(!1)},visible:ae,mask:!1},r.a.createElement(L,{pagination:!1,handleMarkerIconClick:ie,handlePageChange:ce,center:D,hospitalsData:O,currentPage:U,pageSize:3})))};o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.73e2e522.chunk.js.map