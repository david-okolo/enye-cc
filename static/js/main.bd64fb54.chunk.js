(this["webpackJsonpenye-cc"]=this["webpackJsonpenye-cc"]||[]).push([[0],{170:function(e,t,a){e.exports=a(311)},175:function(e,t,a){},311:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l);a(175),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(59),i=a.n(c),s=a(74),u=a(50),m=a(167),p=a(37),y=a(317),g=a(73),d=a(313),f=a(314),h=a(320),b=a(135),k=a.n(b),v=a(322),T=a(321),j=function(e){return r.a.createElement(T.a,{content:e.content,title:e.title},r.a.createElement("div",{style:{fontWeight:"bolder",color:"white",width:"100%"}},r.a.createElement(v.a,{onClick:function(){e.handleMarkerIconClick({title:e.title,content:e.content,color:"green",text:"destination",location:{lat:e.lat,lng:e.lng}})},style:{fontSize:"30px",color:e.color}})))},O=[{elementType:"geometry",stylers:[{color:"#212121"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{elementType:"labels.text.stroke",stylers:[{color:"#212121"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#757575"}]},{featureType:"administrative.country",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#181818"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"poi.park",elementType:"labels.text.stroke",stylers:[{color:"#1b1b1b"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#2c2c2c"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#8a8a8a"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#373737"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#3c3c3c"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#4e4e4e"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3d3d3d"}]}],x={lat:6.54,lng:3.39},E={1:"1 KM",10:"10 KM",20:"20 KM",30:"30 KM",40:"40 KM"},C={content:"",title:"You",color:"red",text:"you"},w=function(e){var t=e.center,a=e.zoom,n=e.markerLocations,l=e.handleMarkerIconClick;return r.a.createElement("div",{style:{flex:1,width:"100%"}},r.a.createElement(k.a,{zoom:a,bootstrapURLKeys:{key:"AIzaSyCTBRe18aNjO1y6ZF44Eyp0n2gddKtUYgc"},center:t,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){!function(e,t){var a=new t.StyledMapType(O);e.mapTypes.set("styled_map",a),e.setMapTypeId("styled_map")}(e.map,e.maps)}},n.map((function(e){var t=e.location,a=e.color,n=e.text,o=e.title,c=e.content;return r.a.createElement(j,{title:o,content:c,handleMarkerIconClick:l,key:n,lat:t.lat,lng:t.lng,color:a,text:n})}))))},S=a(169),I=a(312),M=a(319),P=a(318),z=a(316),D=a(323),R=P.a.Search,K=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{enterButton:!0,placeholder:" search by name...",prefix:r.a.createElement(D.a,null),size:"large",onChange:e.handleSearchInputChange,value:e.query,style:{marginBottom:"10px"}}),r.a.createElement(z.a,{min:0,max:50,marks:e.marks,step:5,range:!1,tipFormatter:null,onChange:e.handleSearchRadiusChange,value:e.searchRadius}))},F=a(164),L=a(315),_=a(44),B=function(e){var t=e.currentPage,a=e.handlePageChange,n=e.hospitalsData,l=e.handleMarkerIconClick,o=e.center,c=e.pageSize,i=e.pagination;return r.a.createElement(L.b,{size:"small",pagination:i&&{current:t,onChange:a,pageSize:c},dataSource:n,renderItem:function(e){return r.a.createElement(L.b.Item,{actions:[r.a.createElement(v.a,{key:"view-on-map",onClick:function(){return l({title:e.name,content:e.formatted_address,location:e.geometry.location,color:"green",text:"destination"})}})]},r.a.createElement(L.b.Item.Meta,{title:e.name,description:e.formatted_address}),r.a.createElement("div",null,(Object(_.getDistance)(e.geometry.location,o)/1e3).toFixed(1),"km"))}})},A=y.a.Text,q=function(e){var t=e.cropped,a=e.center,n=e.hospitalsData,l=e.dataIsLoading,o=e.currentPage,c=e.handlePageChange,i=e.handleMarkerIconClick,s=Object(S.a)(e,["cropped","center","hospitalsData","dataIsLoading","currentPage","handlePageChange","handleMarkerIconClick"]),u="Showing hospitals ".concat(s.query?"matching '".concat(s.query,"'"):""," within ").concat(s.searchRadius,"KM of you");return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,s),r.a.createElement(I.a,null),t&&r.a.createElement(d.a,{justify:"space-between"},r.a.createElement(f.a,null,r.a.createElement(A,{strong:!0},u)),r.a.createElement(f.a,null,r.a.createElement(F.a,{style:{fontSize:"28px",color:"#08979c"}}))),t&&r.a.createElement(M.a,{loading:l,active:!0},r.a.createElement(I.a,null),r.a.createElement(B,{pagination:!0,handleMarkerIconClick:i,center:a,handlePageChange:c,pageSize:6,hospitalsData:n,currentPage:o})))},W=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,r,l,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:10,a=o.length>1&&void 0!==o[1]?o[1]:x,n=1e3*t,e.next=5,fetch("https://david-enye-cc.ml/places/hospitals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({radius:n,latlng:[a.lat,a.lng]})});case 5:return r=e.sent,e.next=8,r.json();case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=y.a.Title,U=g.a.useBreakpoint,G=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(10),c=Object(p.a)(o,2),y=c[0],g=c[1],b=Object(n.useState)(""),k=Object(p.a)(b,2),v=k[0],T=k[1],j=Object(n.useState)(a),O=Object(p.a)(j,2),S=O[0],I=O[1],M=Object(n.useState)(!0),P=Object(p.a)(M,2),z=P[0],D=P[1],R=Object(n.useState)(x),K=Object(p.a)(R,2),F=K[0],L=K[1],A=Object(n.useState)(1),G=Object(p.a)(A,2),N=G[0],Y=G[1],Z=Object(n.useState)([]),$=Object(p.a)(Z,2),H=$[0],Q=$[1],V=Object(n.useState)(13),X=Object(p.a)(V,2),ee=X[0],te=X[1],ae=Object(n.useState)(!1),ne=Object(p.a)(ae,2),re=ne[0],le=ne[1],oe=U().xl;Object(n.useEffect)((function(){F.lat!==x.lat&&F.lng!==x.lng&&W(y,F).then((function(e){var t,a=e.data.filter((function(e){return!!e.geometry&&Object(_.getDistance)(e.geometry.location,F)/1e3<y})).sort((function(e,t){return e.geometry&&t.geometry&&Object(_.getDistance)(e.geometry.location,F)>Object(_.getDistance)(t.geometry.location,F)?1:e.geometry&&t.geometry&&Object(_.getDistance)(e.geometry.location,F)<Object(_.getDistance)(t.geometry.location,F)?-1:0}));l(a),v&&(t=ce(a,v)),I(t||a),D(!1);var n=(t||a).map((function(e){return{content:e.formatted_address,title:e.name,color:"white",text:e.id,location:e.geometry.location}}));Q([].concat(Object(m.a)(n),[Object(u.a)(Object(u.a)({},C),{},{location:F})]))}))}),[y,F,v]),Object(n.useEffect)((function(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;L({lat:a,lng:n}),Q([Object(u.a)(Object(u.a)({},C),{},{location:{lat:a,lng:n}})])}))}),[]);var ce=function(e,t){return e.filter((function(e){return e.name.match(function(e){return new RegExp(e,"gi")}(t))}))},ie=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,T(n),Y(1),I(ce(a,n)),le(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e,t){Y(e)},ue=function(e){Q([Object(u.a)(Object(u.a)({},C),{},{location:F}),e]),oe?le(!1):(T(e.title),le(!0))},me=oe?12:24;return r.a.createElement(d.a,{style:{display:"flex",flexFlow:oe?"row":"column",height:"100vh",alignItems:"stretch"}},r.a.createElement(f.a,{span:me,style:{padding:"24px 24px 0 24px",backgroundColor:"#ffffff",flex:oe?"0 0 100%":"none"}},r.a.createElement(J,{level:oe?2:4},"Find nearest hospital"),r.a.createElement(q,{cropped:!!oe,handleMarkerIconClick:ue,handleSearchInputChange:ie,handleSearchRadiusChange:function(e){D(!0),Y(1),g(Array.isArray(e)?e[0]:e);var t,a="number"===typeof e?e:e[0],n=(t=a)>39?9:t>24?10:t>15?11:t>9?12:13;te(n)},handlePageChange:se,marks:E,hospitalsData:S,searchRadius:y,query:v,dataIsLoading:z,currentPage:N,center:F})),r.a.createElement(f.a,{span:me,style:{backgroundColor:"#eeeeee",display:"flex",flex:1,overflow:"auto"}},r.a.createElement(w,{handleMarkerIconClick:ue,center:F,setCenter:L,zoom:ee,markerLocations:H})),!oe&&r.a.createElement(h.a,{title:"Results",placement:"bottom",onClose:function(){le(!1)},visible:re,mask:!1},r.a.createElement(B,{pagination:!1,handleMarkerIconClick:ue,handlePageChange:se,center:F,hospitalsData:S,currentPage:N,pageSize:3})))};o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[170,1,2]]]);
//# sourceMappingURL=main.bd64fb54.chunk.js.map